(function(){function t(t,n){b[y]=t,b[y+1]=n,2===(y+=2)&&d()}function n(t){return"function"==typeof t}function o(){for(var t=0;t<y;t+=2)(0,b[t])(b[t+1]),b[t]=void 0,b[t+1]=void 0;y=0}function e(){}function r(o,e){if(o===e)c(o,new TypeError("You cannot resolve a promise with itself"));else if("function"==typeof e||"object"==typeof e&&null!==e)if(e.constructor===o.constructor)!function(t,n){1===n.a?s(t,n.b):2===t.a?c(t,n.b):u(n,void 0,function(n){r(t,n)},function(n){c(t,n)})}(o,e);else{var i;try{i=e.then}catch(t){g.error=t,i=g}i===g?c(o,g.error):void 0===i?s(o,e):n(i)?function(n,o,e){t(function(t){var n=!1,i=function(t,n,o,e){try{t.call(n,o,e)}catch(t){return t}}(e,o,function(e){n||(n=!0,o!==e?r(t,e):s(t,e))},function(o){n||(n=!0,c(t,o))});!n&&i&&(n=!0,c(t,i))},n)}(o,e,i):s(o,e)}else s(o,e)}function i(t){t.f&&t.f(t.b),f(t)}function s(n,o){void 0===n.a&&(n.b=o,n.a=1,0!==n.e.length&&t(f,n))}function c(n,o){void 0===n.a&&(n.a=2,n.b=o,t(i,n))}function u(n,o,e,r){var i=n.e,s=i.length;n.f=null,i[s]=o,i[s+1]=e,i[s+2]=r,0===s&&n.a&&t(f,n)}function f(t){var n=t.e,o=t.a;if(0!==n.length){for(var e,r,i=t.b,s=0;s<n.length;s+=3)e=n[s],r=n[s+o],e?h(o,e,r,i):r(i);t.e.length=0}}function a(){this.error=null}function h(t,o,e,i){var u,f,a,h,l=n(e);if(l){try{u=e(i)}catch(t){P.error=t,u=P}if(u===P?(h=!0,f=u.error,u=null):a=!0,o===u)return void c(o,new TypeError("A promises callback cannot return that same promise."))}else u=i,a=!0;void 0===o.a&&(l&&a?r(o,u):h?c(o,f):1===t?s(o,u):2===t&&c(o,u))}function l(t,n,o,r){this.n=t,this.c=new t(e,r),this.i=o,this.o(n)?(this.m=n,this.d=this.length=n.length,this.l(),0===this.length?s(this.c,this.b):(this.length=this.length||0,this.k(),0===this.d&&s(this.c,this.b))):c(this.c,this.p())}function p(t){if(j++,this.b=this.a=void 0,this.e=[],e!==t){if(!n(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof p))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");!function(t,n){try{n(function(n){r(t,n)},function(n){c(t,n)})}catch(n){c(t,n)}}(this,t)}}var d,v=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},y=0,w=(m="undefined"!=typeof window?window:{}).MutationObserver||m.WebKitMutationObserver,m="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,b=Array(1e3);d="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?function(){process.nextTick(o)}:w?function(){var t=0,n=new w(o),e=document.createTextNode("");return n.observe(e,{characterData:!0}),function(){e.data=t=++t%2}}():m?function(){var t=new MessageChannel;return t.port1.onmessage=o,function(){t.port2.postMessage(0)}}():function(){setTimeout(o,1)};var g=new a,P=new a;l.prototype.o=function(t){return v(t)},l.prototype.p=function(){return Error("Array Methods must be provided an Array")},l.prototype.l=function(){this.b=Array(this.length)},l.prototype.k=function(){for(var t=this.length,n=this.c,o=this.m,e=0;void 0===n.a&&e<t;e++)this.j(o[e],e)},l.prototype.j=function(t,n){var o=this.n;"object"==typeof t&&null!==t?t.constructor===o&&void 0!==t.a?(t.f=null,this.g(t.a,n,t.b)):this.q(o.resolve(t),n):(this.d--,this.b[n]=this.h(t))},l.prototype.g=function(t,n,o){var e=this.c;void 0===e.a&&(this.d--,this.i&&2===t?c(e,o):this.b[n]=this.h(o)),0===this.d&&s(e,this.b)},l.prototype.h=function(t){return t},l.prototype.q=function(t,n){var o=this;u(t,void 0,function(t){o.g(1,n,t)},function(t){o.g(2,n,t)})};var j=0;p.all=function(t,n){return new l(this,t,!0,n).c},p.race=function(t,n){function o(t){r(s,t)}function i(t){c(s,t)}var s=new this(e,n);if(!v(t))return c(s,new TypeError("You must pass an array to race.")),s;for(var f=t.length,a=0;void 0===s.a&&a<f;a++)u(this.resolve(t[a]),void 0,o,i);return s},p.resolve=function(t,n){if(t&&"object"==typeof t&&t.constructor===this)return t;var o=new this(e,n);return r(o,t),o},p.reject=function(t,n){var o=new this(e,n);return c(o,t),o},p.prototype={constructor:p,then:function(n,o){var r=this.a;if(1===r&&!n||2===r&&!o)return this;var i=new this.constructor(e),s=this.b;if(r){var c=arguments[r-1];t(function(){h(r,i,c,s)})}else u(this,i,n,o);return i},catch:function(t){return this.then(null,t)}};var A={Promise:p,polyfill:function(){var t;"Promise"in(t="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self)&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var o;return new t.Promise(function(t){o=t}),n(o)}()||(t.Promise=p)}};"function"==typeof define&&define.amd?define(function(){return A}):"undefined"!=typeof module&&module.exports?module.exports=A:void 0!==this&&(this.ES6Promise=A)}).call(window),window&&window.ES6Promise.polyfill();